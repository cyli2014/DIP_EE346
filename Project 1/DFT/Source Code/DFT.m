pic1 = imread('1.jpeg');
pic2 = imread('2.jpg');
pic1 = imresize(pic1, [512, 512]);
pic2 = imresize(pic2, [512, 512]);
pic1 = rgb2gray(pic1);
pic2 = rgb2gray(pic2);
fourier1 = DFT2(pic1);
fourier2 = DFT2(pic2);
mag1 = abs(fourier1);
mag2 = abs(fourier2);
phase1 = angle(fourier1);
phase2 = angle(fourier2);
new_fourier1 = mag1.*cos(phase2) + mag1.*sin(phase2).*1i;
new_fourier2 = mag2.*cos(phase1) + mag2.*sin(phase1).*1i;
new_pic1 = abs(IDFT2(new_fourier1));
new_pic2 = abs(IDFT2(new_fourier2));
new_pic1 = uint8(new_pic1);
new_pic2 = uint8(new_pic2);
subplot(2,2,1), imshow(pic1), title('pic1');
imwrite(pic1, '灰度图1.jpg');
subplot(2,2,2), imshow(pic2), title('pic2');
imwrite(pic2, '灰度图2.jpg');
subplot(2,2,3), imshow(new_pic1), title('mag1 & phase2');
imwrite(new_pic1, '图1幅度与图2相位.jpg');
subplot(2,2,4), imshow(new_pic2), title('mag2 & phase1');
imwrite(new_pic2, '图2幅度与图1相位.jpg');